{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\smita\\\\Desktop\\\\ReactWorks\\\\capstone\\\\client\\\\src\\\\components\\\\TimeEntries.js\";\nimport React, { Component } from 'react';\nimport TimeEntryForm from './TimeEntryForm';\nimport moment from 'moment';\nimport { getTimeEntryList } from './FakeTimeEntries';\nimport { getWorkOrders } from './FakeWorkOrders';\n\nclass TimeEntries extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      timeEntries: [],\n      workOrders: []\n    };\n\n    this.handleSave = timeEntry => {\n      const timeEntries = this.state.timeEntries;\n      let newId = timeEntry.date + timeEntry.workOrderId;\n      timeEntries.push({\n        _id: newId,\n        date: timeEntry.date,\n        week: moment(timeEntry.date, \"MM-DD-YYYY\").week(),\n        workOrder: \" \",\n        hours: 5\n      });\n      console.log(\"timeEntries \", timeEntries);\n      this.setState({\n        timeEntries\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data: workOrders\n    } = await getWorkOrders();\n    const {\n      data: timeEntries\n    } = await getTimeEntryList(); // console.log(\"timeEntries\",timeEntries)\n\n    var dateArray = [];\n    var weekArray = [];\n    let prevWeekNumber = [];\n    let weekNumber = \" \";\n    var currentDate = moment(moment(moment(), \"MM-DD-YYYY\").subtract(10, \"days\").format(\"MM/DD/YYYY\"));\n    var startDate = moment(moment(moment(), \"MM-DD-YYYY\").subtract(10, \"days\").format(\"MM/DD/YYYY\"));\n    var stopDate = moment(moment(moment(), \"MM-DD-YYYY\").add(10, \"days\").format(\"MM/DD/YYYY\"));\n    var x = 0;\n    let y = 0;\n\n    while (currentDate <= stopDate) {\n      dateArray.push({\n        _id: x,\n        name: moment(currentDate).format(\"MM/DD/YYYY\")\n      });\n      currentDate = moment(currentDate).add(1, \"days\");\n      x = x + 1;\n      weekNumber = moment(currentDate, \"MM-DD-YYYY\").week();\n\n      if (weekNumber !== prevWeekNumber) {\n        weekArray.push({\n          _id: y,\n          name: weekNumber\n        });\n        prevWeekNumber = weekNumber;\n        y = y + 1;\n      }\n    } //console.log(weekArray)\n\n\n    this.setState({\n      timeEntries,\n      workOrders,\n      dateArray,\n      weekArray,\n      startDate\n    });\n  }\n\n  render() {\n    const {\n      timeEntries\n    } = this.state;\n    console.log(timeEntries);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TimeEntryForm, {\n      onSave: this.handleSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \" \", timeEntries.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }\n      }, item.date), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, item.week), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, item.workOrder), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }\n      }, item.hours));\n    })));\n  }\n\n}\n\nexport default TimeEntries;","map":{"version":3,"sources":["C:/Users/smita/Desktop/ReactWorks/capstone/client/src/components/TimeEntries.js"],"names":["React","Component","TimeEntryForm","moment","getTimeEntryList","getWorkOrders","TimeEntries","state","timeEntries","workOrders","handleSave","timeEntry","newId","date","workOrderId","push","_id","week","workOrder","hours","console","log","setState","componentDidMount","data","dateArray","weekArray","prevWeekNumber","weekNumber","currentDate","subtract","format","startDate","stopDate","add","x","y","name","render","map","item","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport TimeEntryForm from './TimeEntryForm';\r\nimport moment from 'moment';\r\nimport { getTimeEntryList } from './FakeTimeEntries';\r\nimport { getWorkOrders} from './FakeWorkOrders';\r\n\r\nclass TimeEntries extends Component {\r\n\r\n    state = {\r\n        timeEntries: [],\r\n        workOrders: []\r\n    };\r\n    \r\n\r\n    async componentDidMount() {\r\n        const { data: workOrders } = await getWorkOrders();\r\n        const { data: timeEntries } = await getTimeEntryList();\r\n        // console.log(\"timeEntries\",timeEntries)\r\n        var dateArray = [];\r\n        var weekArray = [];\r\n        let prevWeekNumber = [];\r\n        let weekNumber = \" \";\r\n        var currentDate = moment(\r\n            moment(moment(), \"MM-DD-YYYY\").subtract(10, \"days\").format(\"MM/DD/YYYY\")\r\n        );\r\n        var startDate = moment(\r\n            moment(moment(), \"MM-DD-YYYY\").subtract(10, \"days\").format(\"MM/DD/YYYY\")\r\n        );\r\n        var stopDate = moment(\r\n            moment(moment(), \"MM-DD-YYYY\").add(10, \"days\").format(\"MM/DD/YYYY\")\r\n        );\r\n        var x = 0;\r\n        let y = 0;\r\n\r\n        while (currentDate <= stopDate) {\r\n            dateArray.push({\r\n                _id: x,\r\n                name: moment(currentDate).format(\"MM/DD/YYYY\"),\r\n            });\r\n            currentDate = moment(currentDate).add(1, \"days\");\r\n            x = x + 1;\r\n            weekNumber = moment(currentDate, \"MM-DD-YYYY\").week();\r\n\r\n            if (weekNumber !== prevWeekNumber) {\r\n                weekArray.push({\r\n                    _id: y,\r\n                    name: weekNumber,\r\n                });\r\n                prevWeekNumber = weekNumber;\r\n                y = y +1;\r\n            }\r\n        }\r\n        //console.log(weekArray)\r\n        this.setState({ timeEntries, workOrders, dateArray, weekArray, startDate });\r\n    }\r\n    \r\n    handleSave =  (timeEntry) => {\r\n\r\n            const timeEntries = this.state.timeEntries;\r\n\r\n            let newId = timeEntry.date + timeEntry.workOrderId\r\n            timeEntries.push({\r\n                _id: newId,\r\n                date: timeEntry.date,\r\n                week: moment(timeEntry.date, \"MM-DD-YYYY\").week(),\r\n                workOrder: \" \",\r\n                hours: 5,\r\n            });\r\n    \r\n            console.log(\"timeEntries \", timeEntries);\r\n            this.setState({ timeEntries });\r\n    };\r\n    \r\n    render() {\r\n        const {timeEntries} = this.state\r\n        console.log(timeEntries);\r\n        return (\r\n            <div>\r\n        <div>\r\n        <TimeEntryForm\r\n            onSave={this.handleSave}\r\n        /></div>\r\n        <div> {timeEntries.map((item, index) => {\r\n                    return <div key={index}>\r\n                        <p>{item.date}</p>\r\n                        <p>{item.week}</p>\r\n                        <p>{item.workOrder}</p>\r\n                        <p>{item.hours}</p>\r\n                    </div>\r\n            })}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TimeEntries;"]},"metadata":{},"sourceType":"module"}